#! NX/KF 4.0
DefClass:maze1 (%ug_create_instance ug_base_part);
# Set of default parameters for the part

# Point(x, y, z)
(List) trajectory: {
Point(2, 1, 0),
Point(26, 6, 0),
Point(4, 29, 0),
Point(26, 29, 0),
Point(5, 1, 0),
Point(10, 5, 0),
Point(22, 1, 0),
Point(19, 23, 0),
Point(4, 20, 0),
Point(26, 14, 0),
Point(28, 17, 0),
Point(4, 27, 0),
Point(30, 23, 0),
Point(26, 5, 0),
Point(16, 5, 0),
Point(4, 18, 0),
Point(0, 11, 0),
Point(0, 33, 0),
Point(16, 28, 0),
Point(0, 20, 0),
Point(0, 14, 0),
Point(30, 1, 0),
Point(22, 1, 0),
Point(26, 36, 0),
Point(30, 37, 0),
Point(30, 8, 0),
Point(30, 20, 0),
Point(9, 5, 0),
Point(10, 16, 0),
Point(27, 1, 0),
Point(30, 34, 0),
Point(11, 40, 0),
Point(30, 10, 0),
Point(23, 17, 0),
Point(0, 27, 0),
Point(4, 6, 0),
Point(15, 28, 0),
Point(30, 7, 0),
Point(19, 26, 0),
Point(10, 1, 0),
Point(8, 1, 0),
Point(2, 40, 0),
Point(10, 25, 0),
Point(13, 1, 0),
Point(25, 1, 0),
Point(17, 40, 0),
Point(26, 40, 0),
Point(28, 40, 0),
Point(22, 5, 0),
Point(20, 40, 0),
Point(26, 35, 0),
Point(0, 29, 0),
Point(19, 18, 0),
Point(30, 28, 0),
Point(30, 1, 0),
Point(15, 1, 0),
Point(4, 15, 0),
Point(7, 36, 0),
Point(19, 27, 0),
Point(16, 36, 0),
Point(26, 32, 0),
Point(30, 33, 0),
Point(30, 35, 0),
Point(10, 20, 0),
Point(30, 25, 0),
Point(30, 10, 0),
Point(29, 40, 0),
Point(4, 33, 0),
Point(19, 15, 0),
Point(0, 23, 0),
Point(15, 15, 0),
Point(14, 28, 0),
Point(0, 36, 0),
Point(30, 2, 0),
Point(26, 10, 0),
Point(7, 5, 0),
Point(30, 15, 0),
Point(8, 36, 0),
Point(28, 1, 0),
Point(26, 9, 0),
Point(0, 2, 0),
Point(27, 17, 0),
Point(12, 1, 0),
Point(4, 21, 0),
Point(19, 40, 0),
Point(6, 1, 0),
Point(10, 15, 0),
Point(4, 5, 0),
Point(26, 1, 0),
Point(10, 23, 0),
Point(10, 19, 0),
Point(24, 40, 0),
Point(0, 32, 0),
Point(30, 15, 0),
Point(29, 1, 0),
Point(4, 8, 0),
Point(30, 6, 0),
Point(22, 40, 0),
Point(30, 29, 0),
Point(21, 36, 0),
Point(16, 40, 0),
Point(26, 15, 0),
Point(8, 40, 0),
Point(30, 22, 0),
Point(21, 1, 0),
Point(23, 5, 0),
Point(4, 32, 0),
Point(17, 1, 0),
Point(20, 1, 0),
Point(16, 15, 0),
Point(0, 2, 0),
Point(10, 24, 0),
Point(10, 28, 0),
Point(19, 24, 0),
Point(25, 36, 0),
Point(0, 7, 0),
Point(30, 11, 0),
Point(0, 19, 0),
Point(30, 13, 0),
Point(4, 25, 0),
Point(0, 26, 0),
Point(14, 5, 0),
Point(0, 35, 0),
Point(10, 18, 0),
Point(23, 40, 0),
Point(19, 1, 0),
Point(9, 40, 0),
Point(10, 22, 0),
Point(1, 40, 0),
Point(8, 5, 0),
Point(1, 1, 0),
Point(26, 23, 0),
Point(26, 16, 0),
Point(19, 19, 0),
Point(30, 16, 0),
Point(25, 40, 0),
Point(30, 21, 0),
Point(30, 4, 0),
Point(8, 1, 0),
Point(13, 36, 0),
Point(28, 17, 0),
Point(6, 36, 0),
Point(4, 14, 0),
Point(0, 8, 0),
Point(26, 20, 0),
Point(20, 36, 0),
Point(19, 28, 0),
Point(21, 5, 0),
Point(30, 38, 0),
Point(29, 20, 0),
Point(30, 16, 0),
Point(26, 8, 0),
Point(4, 30, 0),
Point(15, 5, 0),
Point(10, 40, 0),
Point(0, 13, 0),
Point(30, 3, 0),
Point(24, 1, 0),
Point(13, 28, 0),
Point(4, 40, 0),
Point(15, 36, 0),
Point(30, 31, 0),
Point(26, 17, 0),
Point(30, 4, 0),
Point(0, 22, 0),
Point(12, 15, 0),
Point(0, 0, 0),
Point(26, 31, 0),
Point(28, 20, 0),
Point(29, 17, 0),
Point(27, 20, 0),
Point(26, 33, 0),
Point(24, 36, 0),
Point(6, 1, 0),
Point(26, 1, 0),
Point(16, 1, 0),
Point(4, 1, 0),
Point(18, 40, 0),
Point(17, 15, 0),
Point(26, 17, 0),
Point(0, 31, 0),
Point(26, 25, 0),
Point(4, 10, 0),
Point(30, 12, 0),
Point(26, 24, 0),
Point(14, 40, 0),
Point(12, 5, 0),
Point(13, 1, 0),
Point(24, 17, 0),
Point(30, 14, 0),
Point(30, 36, 0),
Point(30, 39, 0),
Point(24, 5, 0),
Point(19, 16, 0),
Point(19, 1, 0),
Point(11, 1, 0),
Point(16, 1, 0),
Point(15, 1, 0),
Point(24, 1, 0),
Point(21, 1, 0),
Point(30, 13, 0),
Point(4, 36, 0),
Point(0, 3, 0),
Point(4, 17, 0),
Point(10, 27, 0),
Point(21, 17, 0),
Point(0, 6, 0),
Point(30, 5, 0),
Point(11, 15, 0),
Point(0, 38, 0),
Point(19, 20, 0),
Point(0, 9, 0),
Point(4, 22, 0),
Point(19, 25, 0),
Point(9, 1, 0),
Point(12, 40, 0),
Point(15, 40, 0),
Point(25, 1, 0),
Point(3, 1, 0),
Point(4, 24, 0),
Point(18, 28, 0),
Point(10, 36, 0),
Point(2, 1, 0),
Point(0, 10, 0),
Point(14, 1, 0),
Point(4, 35, 0),
Point(26, 30, 0),
Point(19, 5, 0),
Point(26, 34, 0),
Point(0, 25, 0),
Point(5, 5, 0),
Point(4, 31, 0),
Point(26, 12, 0),
Point(11, 5, 0),
Point(30, 3, 0),
Point(29, 17, 0),
Point(23, 1, 0),
Point(0, 5, 0),
Point(10, 1, 0),
Point(12, 36, 0),
Point(26, 7, 0),
Point(30, 7, 0),
Point(30, 26, 0),
Point(7, 40, 0),
Point(13, 5, 0),
Point(4, 13, 0),
Point(5, 36, 0),
Point(18, 1, 0),
Point(0, 16, 0),
Point(0, 40, 0),
Point(10, 21, 0),
Point(10, 17, 0),
Point(20, 5, 0),
Point(30, 12, 0),
Point(20, 17, 0),
Point(0, 34, 0),
Point(12, 28, 0),
Point(30, 9, 0),
Point(30, 17, 0),
Point(3, 40, 0),
Point(4, 28, 0),
Point(5, 1, 0),
Point(14, 36, 0),
Point(1, 1, 0),
Point(9, 1, 0),
Point(21, 40, 0),
Point(26, 26, 0),
Point(30, 17, 0),
Point(4, 7, 0),
Point(23, 1, 0),
Point(4, 11, 0),
Point(13, 15, 0),
Point(25, 5, 0),
Point(30, 5, 0),
Point(0, 1, 0),
Point(27, 40, 0),
Point(26, 27, 0),
Point(22, 17, 0),
Point(30, 24, 0),
Point(6, 5, 0),
Point(19, 36, 0),
Point(12, 1, 0),
Point(0, 17, 0),
Point(17, 1, 0),
Point(4, 19, 0),
Point(0, 21, 0),
Point(26, 21, 0),
Point(30, 9, 0),
Point(0, 28, 0),
Point(7, 1, 0),
Point(4, 16, 0),
Point(5, 40, 0),
Point(30, 30, 0),
Point(10, 26, 0),
Point(0, 12, 0),
Point(20, 1, 0),
Point(30, 6, 0),
Point(28, 1, 0),
Point(4, 1, 0),
Point(19, 21, 0),
Point(13, 40, 0),
Point(27, 17, 0),
Point(4, 26, 0),
Point(17, 5, 0),
Point(11, 1, 0),
Point(29, 1, 0),
Point(30, 27, 0),
Point(26, 22, 0),
Point(4, 23, 0),
Point(0, 39, 0),
Point(26, 13, 0),
Point(25, 17, 0),
Point(9, 36, 0),
Point(7, 1, 0),
Point(0, 37, 0),
Point(3, 1, 0),
Point(30, 2, 0),
Point(26, 28, 0),
Point(18, 15, 0),
Point(30, 14, 0),
Point(30, 8, 0),
Point(0, 30, 0),
Point(30, 11, 0),
Point(0, 15, 0),
Point(18, 1, 0),
Point(26, 11, 0),
Point(4, 34, 0),
Point(14, 15, 0),
Point(30, 40, 0),
Point(19, 22, 0),
Point(6, 40, 0),
Point(17, 36, 0),
Point(14, 1, 0),
Point(18, 36, 0),
Point(22, 36, 0),
Point(0, 24, 0),
Point(17, 28, 0),
Point(27, 1, 0),
Point(18, 5, 0),
Point(0, 18, 0),
Point(11, 28, 0),
Point(11, 36, 0),
Point(23, 36, 0),
Point(4, 9, 0),
Point(4, 12, 0),
Point(19, 17, 0),
Point(0, 1, 0),
Point(30, 32, 0),
Point(0, 4, 0)
};

(List) blocks: {
Point(0.5, 1.5, 0),
Point(0.5, 2.5, 0),
Point(0.5, 3.5, 0),
Point(0.5, 4.5, 0),
Point(0.5, 5.5, 0),
Point(0.5, 6.5, 0),
Point(0.5, 7.5, 0),
Point(0.5, 8.5, 0),
Point(0.5, 9.5, 0),
Point(0.5, 10.5, 0),
Point(0.5, 11.5, 0),
Point(0.5, 12.5, 0),
Point(0.5, 13.5, 0),
Point(0.5, 14.5, 0),
Point(0.5, 15.5, 0),
Point(0.5, 16.5, 0),
Point(0.5, 17.5, 0),
Point(0.5, 18.5, 0),
Point(0.5, 19.5, 0),
Point(0.5, 20.5, 0),
Point(0.5, 21.5, 0),
Point(0.5, 22.5, 0),
Point(0.5, 23.5, 0),
Point(0.5, 24.5, 0),
Point(0.5, 25.5, 0),
Point(0.5, 26.5, 0),
Point(0.5, 27.5, 0),
Point(0.5, 28.5, 0),
Point(0.5, 29.5, 0),
Point(0.5, 30.5, 0),
Point(0.5, 31.5, 0),
Point(0.5, 32.5, 0),
Point(0.5, 33.5, 0),
Point(0.5, 34.5, 0),
Point(0.5, 35.5, 0),
Point(0.5, 36.5, 0),
Point(0.5, 37.5, 0),
Point(0.5, 38.5, 0),
Point(1.5, 1.5, 0),
Point(1.5, 38.5, 0),
Point(2.5, 1.5, 0),
Point(2.5, 3.5, 0),
Point(2.5, 4.5, 0),
Point(2.5, 5.5, 0),
Point(2.5, 6.5, 0),
Point(2.5, 7.5, 0),
Point(2.5, 8.5, 0),
Point(2.5, 9.5, 0),
Point(2.5, 10.5, 0),
Point(2.5, 11.5, 0),
Point(2.5, 12.5, 0),
Point(2.5, 13.5, 0),
Point(2.5, 14.5, 0),
Point(2.5, 15.5, 0),
Point(2.5, 16.5, 0),
Point(2.5, 17.5, 0),
Point(2.5, 18.5, 0),
Point(2.5, 19.5, 0),
Point(2.5, 20.5, 0),
Point(2.5, 21.5, 0),
Point(2.5, 22.5, 0),
Point(2.5, 23.5, 0),
Point(2.5, 24.5, 0),
Point(2.5, 25.5, 0),
Point(2.5, 26.5, 0),
Point(2.5, 27.5, 0),
Point(2.5, 28.5, 0),
Point(2.5, 29.5, 0),
Point(2.5, 30.5, 0),
Point(2.5, 31.5, 0),
Point(2.5, 32.5, 0),
Point(2.5, 33.5, 0),
Point(2.5, 34.5, 0),
Point(2.5, 35.5, 0),
Point(2.5, 36.5, 0),
Point(2.5, 38.5, 0),
Point(3.5, 1.5, 0),
Point(3.5, 3.5, 0),
Point(3.5, 36.5, 0),
Point(3.5, 38.5, 0),
Point(4.5, 1.5, 0),
Point(4.5, 3.5, 0),
Point(4.5, 36.5, 0),
Point(4.5, 38.5, 0),
Point(5.5, 1.5, 0),
Point(5.5, 3.5, 0),
Point(5.5, 36.5, 0),
Point(5.5, 38.5, 0),
Point(6.5, 1.5, 0),
Point(6.5, 3.5, 0),
Point(6.5, 36.5, 0),
Point(6.5, 38.5, 0),
Point(7.5, 1.5, 0),
Point(7.5, 3.5, 0),
Point(7.5, 36.5, 0),
Point(7.5, 38.5, 0),
Point(8.5, 1.5, 0),
Point(8.5, 3.5, 0),
Point(8.5, 36.5, 0),
Point(8.5, 38.5, 0),
Point(9.5, 1.5, 0),
Point(9.5, 3.5, 0),
Point(9.5, 36.5, 0),
Point(9.5, 38.5, 0),
Point(10.5, 1.5, 0),
Point(10.5, 3.5, 0),
Point(10.5, 15.5, 0),
Point(10.5, 16.5, 0),
Point(10.5, 17.5, 0),
Point(10.5, 18.5, 0),
Point(10.5, 19.5, 0),
Point(10.5, 20.5, 0),
Point(10.5, 21.5, 0),
Point(10.5, 22.5, 0),
Point(10.5, 23.5, 0),
Point(10.5, 24.5, 0),
Point(10.5, 25.5, 0),
Point(10.5, 26.5, 0),
Point(10.5, 36.5, 0),
Point(10.5, 38.5, 0),
Point(11.5, 1.5, 0),
Point(11.5, 3.5, 0),
Point(11.5, 15.5, 0),
Point(11.5, 26.5, 0),
Point(11.5, 36.5, 0),
Point(11.5, 38.5, 0),
Point(12.5, 1.5, 0),
Point(12.5, 3.5, 0),
Point(12.5, 15.5, 0),
Point(12.5, 26.5, 0),
Point(12.5, 36.5, 0),
Point(12.5, 38.5, 0),
Point(13.5, 1.5, 0),
Point(13.5, 3.5, 0),
Point(13.5, 15.5, 0),
Point(13.5, 26.5, 0),
Point(13.5, 36.5, 0),
Point(13.5, 38.5, 0),
Point(14.5, 1.5, 0),
Point(14.5, 3.5, 0),
Point(14.5, 15.5, 0),
Point(14.5, 26.5, 0),
Point(14.5, 36.5, 0),
Point(14.5, 38.5, 0),
Point(15.5, 1.5, 0),
Point(15.5, 3.5, 0),
Point(15.5, 15.5, 0),
Point(15.5, 26.5, 0),
Point(15.5, 36.5, 0),
Point(15.5, 38.5, 0),
Point(16.5, 1.5, 0),
Point(16.5, 3.5, 0),
Point(16.5, 15.5, 0),
Point(16.5, 26.5, 0),
Point(16.5, 36.5, 0),
Point(16.5, 38.5, 0),
Point(17.5, 1.5, 0),
Point(17.5, 3.5, 0),
Point(17.5, 15.5, 0),
Point(17.5, 16.5, 0),
Point(17.5, 17.5, 0),
Point(17.5, 18.5, 0),
Point(17.5, 19.5, 0),
Point(17.5, 20.5, 0),
Point(17.5, 21.5, 0),
Point(17.5, 22.5, 0),
Point(17.5, 23.5, 0),
Point(17.5, 24.5, 0),
Point(17.5, 25.5, 0),
Point(17.5, 26.5, 0),
Point(17.5, 36.5, 0),
Point(17.5, 38.5, 0),
Point(18.5, 1.5, 0),
Point(18.5, 3.5, 0),
Point(18.5, 36.5, 0),
Point(18.5, 38.5, 0),
Point(19.5, 1.5, 0),
Point(19.5, 3.5, 0),
Point(19.5, 36.5, 0),
Point(19.5, 38.5, 0),
Point(20.5, 1.5, 0),
Point(20.5, 3.5, 0),
Point(20.5, 36.5, 0),
Point(20.5, 38.5, 0),
Point(21.5, 1.5, 0),
Point(21.5, 3.5, 0),
Point(21.5, 36.5, 0),
Point(21.5, 38.5, 0),
Point(22.5, 1.5, 0),
Point(22.5, 3.5, 0),
Point(22.5, 36.5, 0),
Point(22.5, 38.5, 0),
Point(23.5, 1.5, 0),
Point(23.5, 3.5, 0),
Point(23.5, 36.5, 0),
Point(23.5, 38.5, 0),
Point(24.5, 1.5, 0),
Point(24.5, 3.5, 0),
Point(24.5, 36.5, 0),
Point(24.5, 38.5, 0),
Point(25.5, 1.5, 0),
Point(25.5, 3.5, 0),
Point(25.5, 36.5, 0),
Point(25.5, 38.5, 0),
Point(26.5, 1.5, 0),
Point(26.5, 3.5, 0),
Point(26.5, 4.5, 0),
Point(26.5, 5.5, 0),
Point(26.5, 6.5, 0),
Point(26.5, 7.5, 0),
Point(26.5, 8.5, 0),
Point(26.5, 9.5, 0),
Point(26.5, 10.5, 0),
Point(26.5, 11.5, 0),
Point(26.5, 12.5, 0),
Point(26.5, 13.5, 0),
Point(26.5, 14.5, 0),
Point(26.5, 15.5, 0),
Point(26.5, 20.5, 0),
Point(26.5, 21.5, 0),
Point(26.5, 22.5, 0),
Point(26.5, 23.5, 0),
Point(26.5, 24.5, 0),
Point(26.5, 25.5, 0),
Point(26.5, 26.5, 0),
Point(26.5, 27.5, 0),
Point(26.5, 28.5, 0),
Point(26.5, 29.5, 0),
Point(26.5, 30.5, 0),
Point(26.5, 31.5, 0),
Point(26.5, 32.5, 0),
Point(26.5, 33.5, 0),
Point(26.5, 34.5, 0),
Point(26.5, 35.5, 0),
Point(26.5, 36.5, 0),
Point(26.5, 38.5, 0),
Point(27.5, 1.5, 0),
Point(27.5, 15.5, 0),
Point(27.5, 20.5, 0),
Point(27.5, 38.5, 0),
Point(28.5, 1.5, 0),
Point(28.5, 2.5, 0),
Point(28.5, 3.5, 0),
Point(28.5, 4.5, 0),
Point(28.5, 5.5, 0),
Point(28.5, 6.5, 0),
Point(28.5, 7.5, 0),
Point(28.5, 8.5, 0),
Point(28.5, 9.5, 0),
Point(28.5, 10.5, 0),
Point(28.5, 11.5, 0),
Point(28.5, 12.5, 0),
Point(28.5, 13.5, 0),
Point(28.5, 14.5, 0),
Point(28.5, 15.5, 0),
Point(28.5, 20.5, 0),
Point(28.5, 21.5, 0),
Point(28.5, 22.5, 0),
Point(28.5, 23.5, 0),
Point(28.5, 24.5, 0),
Point(28.5, 25.5, 0),
Point(28.5, 26.5, 0),
Point(28.5, 27.5, 0),
Point(28.5, 28.5, 0),
Point(28.5, 29.5, 0),
Point(28.5, 30.5, 0),
Point(28.5, 31.5, 0),
Point(28.5, 32.5, 0),
Point(28.5, 33.5, 0),
Point(28.5, 34.5, 0),
Point(28.5, 35.5, 0),
Point(28.5, 36.5, 0),
Point(28.5, 37.5, 0),
Point(28.5, 38.5, 0)
};

(List) children: children() + {trajectory_list:} + {block_list:};


(List) trajectory_list: loop
{
  for $i from 1 to length(trajectory:);
    if ($i < length(trajectory:))
        append {ug_createInstance(
            {
                class, ug_line;
                start_point, nth($i, trajectory:);
                end_point, nth($i+1, trajectory:);
                color, if ($i = 1) ug_askClosestColor(BLUE) else ug_askClosestColor(RED);
            }
        )};
};

(List) block_list: loop
{
  for $i from 1 to length(blocks:);
    append {ug_createInstance(
        {
            class,      ug_block;
            length,     1;
            width,      1;
            height,     5;
            Origin,     nth($i, blocks:);
        }
    )};
};